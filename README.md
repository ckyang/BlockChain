# BlockChain

This program is a Qt-based iOS App implementing blockchain fundamental features.

It includes: "Publish Public Key", "Publish Address", "Sign Network Protocol", and "Validate New Block."

# Overview
![alt text](https://user-images.githubusercontent.com/13886288/34774611-f09cd64e-f64a-11e7-8d13-6d2fb6e9f844.png)

1. Block name: Input a new block name (space is not allowed)

2. Block validation status

    "Validating...": This block is under validating by other nodes

    "+1": This block is already validated OK by 1 node

    "OK!" : This bloc is already validated OK by n nodes

3. Local address: Generated by public key applying SHA256 + RIPEMD160.

4. Current blockchain list

5. Debugging status: Show all decrypted network messages

# Functionality

[Publish Public Key]

    Public/private key pairs will be generated once this program is lauched.

    Key pairs are generated by ECC (Elliptic-curve cryptography) secp521r1 algorithm.

    Then, following 2 commands will br broadcast:    

        REMOTE_COMMAND_REPLY_PUBKEY NodeAddress PublicKeyPlainFormat    
        GET_PUBKEY

    When other nodes received neighbor's public key, the public key will be stored in a hash table with (key, value) = (NodeAddress, PublicKey).

    When other nodes received "GET_PUBKEY", its public key will be responded to the new-joined node by:
    
        REMOTE_COMMAND_REPLY_PUBKEY NodeAddress PublicKeyPlainFormat

[Publish Address]

    After public key is generated, address is then generated by RIPEMD160(SHA256(PublicKeyPlainFormat)).

    The address will be used inside encrypted network protocol.

[Sign Network Protocol]

    Here is network protocol:

        [BLOCKCHAIN_HEADER][ADDRESS][MessageLen][Message][Signature]
            BLOCKCHAIN_HEADER(strlen(BLOCKCHAIN_HEADER)): "__ThisIsBlockChainPacketByClarkYang__", to avoid conflicting to other network packets
            Address(40): Identify the user of this message
            MessageLen(4): (0000 ~ FFFF) Indicate message length
            Message(MessageLen): Transferred message
            Signature(-) : Message signature

    On sender node, message signature will be generated by the private key before sending.

    On receiver node, signature will be verified by the public key of sender (should already stored in hash table).\
    
    Only the verified message will be executed; otherwise it will be dropped.

[Validate New Block]


